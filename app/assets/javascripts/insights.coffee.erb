# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/

$(document).ready ->
  $('#add-insight').on 'click', ->
    input_insight = prompt('Please enter your insight', 'e = mc^2')
    aktion_id = $('#add-insight').data('aktion_id')
    player_id = $('#add-insight').data('player_id')
    console.log 'aktion_id', aktion_id
    $.ajax({
      type: "POST",
      url: "/insights",
      data: { insight: { text: input_insight, aktion_id: aktion_id, player_id: player_id } },
      success:(data) ->
        $('#insights').append(input_insight + "<br>")
        return false
      error:(data) ->
        alert 'Unable to add your insight'
        return false
    })
